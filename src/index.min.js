/*
 0BSD
*/
(function(){function n(a,b){var c=g(4);c=(new Uint32Array(c.buffer))[0];return Math.floor(c/Math.pow(2,32)*(b-a+1))+a}function r(a){var b=a.length;if(1===b)return a.pop();b=n(0,b-1);return a.splice(b,1)[0]}function t(a){var b;var c="";var e=0;for(b=a.length;e<b;++e){var d=a[e];c+=d.toString(16).padStart(2,"0")}return c}function u(a){var b;var c=new Uint8Array(a.length/2);var e=0;for(b=c.length;e<b;++e){var d=e;c[d]=parseInt(a.substring(2*d,2*d+2),16)}return c}function v(a,b){return a===b.join(",")}
function w(a){var b;var c=a.reduce(function(b,a){return b+a.length},0);var e=0;c=new Uint8Array(c);var d=0;for(b=a.length;d<b;++d){var f=a[d];c.set(f,e);e+=f.length}return c}function x(a,b){return a.join(",")+b.join(",")}function y(a,b){return setTimeout(b,1E3*a)}function z(a,b){return setInterval(b,1E3*a)}function A(a){if(a instanceof Error)return console.error(a)}function h(a){var b;if((b=l.get(a))&&f.has(b))return b;b=a.join(",");return k.has(b)?(b=k.get(b),l.set(a,b),b):a}function B(){var a=new Map;
a.get=function(b){b=h(b);return Map.prototype.get.call(this,b)};a.has=function(b){b=h(b);return Map.prototype.has.call(this,b)};a.set=function(b,a){b=h(b);if(!Map.prototype.has.call(this,b)){var c=b,d;var g=c.join(",");(d=f.get(c))?(++d,f.set(c,d)):(l.set(c,c),k.set(g,c),f.set(c,1))}return Map.prototype.set.call(this,b,a)};a["delete"]=function(b){b=h(b);if(Map.prototype.has.call(this,b)){var a=b;var e=a.join(",");var d=f.get(a);--d;d?f.set(a,d):(k["delete"](e),f["delete"](a))}return Map.prototype["delete"].call(this,
b)};a.clear=function(){var a=this;this.forEach(function(b,e){a["delete"](e)})};return a}function m(){return{random_bytes:g,random_int:n,pull_random_item_from_array:r,array2hex:t,hex2array:u,string2array:p,array2string:q,is_string_equal_to_array:v,concat_arrays:w,compute_source_id:x,timeoutSet:y,intervalSet:z,error_handler:A,ArrayMap:B}}var g;"undefined"!==typeof crypto?g=function(a){a=new Uint8Array(a);crypto.getRandomValues(a);return a}:g=require("crypto").randomBytes;if("undefined"!==typeof Buffer){var p=
function(a){return Buffer.from(a)};var q=function(a){return Buffer.from(a).toString()}}else(function(a,b){p=function(b){return a.encode(b)};q=function(a){return b.decode(a)}}).call(this,new TextEncoder,new TextDecoder);var l=new WeakMap;var k=new Map;var f=new Map;"function"===typeof define&&define.amd?define(m):"object"===typeof exports?module.exports=m():this.detox_utils=m()}).call(this);