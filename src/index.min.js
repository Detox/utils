/*
 0BSD
*/
(function(){function n(b,a){var c=h(4);c=(new Uint32Array(c.buffer))[0];return Math.floor(c/Math.pow(2,32)*(a-b+1))+b}function u(b){var a=b.length;if(1===a)return b.pop();a=n(0,a-1);return b.splice(a,1)[0]}function v(b){var a;var c="";var d=0;for(a=b.length;d<a;++d){var f=b[d];c+=f.toString(16).padStart(2,"0")}return c}function w(b){var a;var c=new Uint8Array(b.length/2);var d=0;for(a=c.length;d<a;++d){var f=d;c[f]=parseInt(b.substring(2*f,2*f+2),16)}return c}function x(b,a){var c;if(b===a)return!0;
if(b.length!==a.length)return!1;var d=0;for(c=b.length;d<c;++d){var f=d;var e=b[d];if(e!==a[f])return!1}return!0}function y(b){var a;var c=b.reduce(function(a,b){return a+b.length},0);var d=0;c=new Uint8Array(c);var f=0;for(a=b.length;f<a;++f){var e=b[f];c.set(e,d);d+=e.length}return c}function z(b,a){return setTimeout(a,1E3*b)}function A(b,a){return setInterval(a,1E3*b)}function B(b){if(b instanceof Error)return console.error(b)}function e(b){var a;if((a=l.get(b))&&g.has(a))return a;a=b.join(",");
return k.has(a)?(a=k.get(a),l.set(b,a),a):b}function p(b){var a;var c=b.join(",");(a=g.get(b))?(++a,g.set(b,a)):(l.set(b,b),k.set(c,b),g.set(b,1))}function q(b){var a=b.join(",");var c=g.get(b);--c;c?g.set(b,c):(k["delete"](a),g["delete"](b))}function C(){var b=new Map;b.get=function(a){a=e(a);return Map.prototype.get.call(this,a)};b.has=function(a){a=e(a);return Map.prototype.has.call(this,a)};b.set=function(a,b){a=e(a);Map.prototype.has.call(this,a)||p(a);return Map.prototype.set.call(this,a,b)};
b["delete"]=function(a){a=e(a);Map.prototype.has.call(this,a)&&q(a);return Map.prototype["delete"].call(this,a)};b.clear=function(){var a=this;this.forEach(function(b,d){a["delete"](d)})};return b}function D(){var b=new Set;b.has=function(a){a=e(a);return Set.prototype.has.call(this,a)};b.add=function(a){a=e(a);Set.prototype.has.call(this,a)||p(a);return Set.prototype.add.call(this,a)};b["delete"]=function(a){a=e(a);Set.prototype.has.call(this,a)&&q(a);return Set.prototype["delete"].call(this,a)};
b.clear=function(){var a=this;this.forEach(function(b,d){a["delete"](d)})};return b}function m(){return{random_bytes:h,random_int:n,pull_random_item_from_array:u,array2hex:v,hex2array:w,string2array:r,array2string:t,are_arrays_equal:x,concat_arrays:y,timeoutSet:z,intervalSet:A,error_handler:B,ArrayMap:C,ArraySet:D}}var h;"undefined"!==typeof crypto?h=function(b){b=new Uint8Array(b);crypto.getRandomValues(b);return b}:h=require("crypto").randomBytes;if("undefined"!==typeof Buffer){var r=function(b){return Buffer.from(b)};
var t=function(b){return Buffer.from(b).toString()}}else(function(b,a){r=function(a){return b.encode(a)};t=function(b){return a.decode(b)}}).call(this,new TextEncoder,new TextDecoder);var l=new WeakMap;var k=new Map;var g=new Map;"function"===typeof define&&define.amd?define(m):"object"===typeof exports?module.exports=m():this.detox_utils=m()}).call(this);